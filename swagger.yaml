swagger: '2.0'
info:
  description: API documentation of Team 21's Contact Manager
  version: 1.0.0
  title: Contact Manager
  contact:
    email: gradimbuyi@outlook.com

  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html

tags:
- name: users
  description: Operations avaiable to regular users

paths:
  /signup.php:
    post:
      tags:
      - users
      summary: creates new user
      operationId: handleLogin
      description: |
        Takes for input user's first name, last name,  username, 
        and password. By passing in these options, user are 
        added to database, enabling them to manage contact 
        information.
      produces:
      - application/json
      parameters:
      - in: body
        name: AddUser 
        description: adds a user in the database
        schema: 
          $ref: '#/definitions/signup'
      responses:
        200:
          description: user has been created
        400:
          description: bad input parameters
        501:
          description: server error
  /login.php:
    post: 
      tags:
      - users
      summary: login to existing user account
      operationId: handleSignUp
      description: |
        Takes for input user's username and password. By passing
        in these options, user are able to retrieve their account.
      produces:
      - applicaation/json
      parameters:
      - in: body
        name: RetrieveUser
        description: search and return user account
        schema:
          $ref: '#/definitions/login'
      responses:
        200:
          description: user was found
        400:
          description: incorrect username or password
        501:
          description: server error
  /add_contact.php:
    post:
      tags:
      - users
      summary: add contact to user's list
      operationId: AddContact
      description: |
        Takes for input the contact's name, phone number, and email. Users 
        can then save these information in their account.
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: AddContact
        description: stores contact info in user account
        schema:
          $ref: '#/definitions/addcontact'
      responses:
        200:
          description: contact was added
        400:
          description: contact was not added
        501:
          description: server error
definitions:
  signup:
    type: object
    required: 
    - firstname
    - lastname
    - login
    - password
    properties:
      firstname:
        type: string
        example: David
      lastname:
        type: string
        example: Branch
      login:
        type: string
        example: dbranch
      password:
        type: string
        example: thisisa582password
  login:
    type: object
    required:
    - login
    - password
    properties:
      login:
        type: string
        example: dbranch
      password:
        type: string
        example: thisisa582password
  addcontact:
    type: object
    required:
    - userid
    - firstname
    - lastname
    - phonenumber
    - emai
    properties:
      userid:
        type: integer
        example: 255
      firstname:
        type: string
        example: David
      lastname:
        type: string
        example: Branch
      phonenumber:
        type: string
        example: 407-773-6622
      email:
        type: string
        example: dbranch420@hotmail.fr